/* --- GLOBAL STYLES & FONTS --- */
:root {
    --primary-green: #2E8B57;
    --secondary-green: #6B8E23;
    --light-bg: #F0FFF0;
    --dark-text: #3a3a3a;

    /* --- FONT DEFINITIONS --- */
    --font-title: 'Slackey', cursive;
    --font-body: 'Bricolage Grotesque', sans-serif;
}

/* --- CUSTOM CURSOR STYLES --- */
/* Add this block right after the :root section */

/* 1. Set the default cursor for the entire site */
html {
    /* The format is url(path), x-coordinate, y-coordinate, fallback */
    /* 0 0 means the "hotspot" is the top-left corner of the image */
    cursor: url('assets/cursors/cursor-default.png') 0 0, auto;
}

/* 2. Set the pointer cursor for all clickable elements */
/* Selects all buttons, links, and elements with a 'cursor: pointer' style */
button, a, .hotspot, .color-swatch, .option-grid img, .tab-button {
    /* 16 16 centers the hotspot on a 32x32 image */
    cursor: url('assets/cursors/cursor-pointer.png') 16 16, pointer;
}

body {
    font-family: var(--font-body); /* Default font for all text */
    background-color: var(--light-bg);
    color: var(--dark-text);
    line-height: 1.6;
    margin: 0;
    padding: 20px;
}

/* --- APPLY TITLE FONT TO ALL HEADINGS --- */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-title);
    color: var(--primary-green);
}

button {
    font-family: var(--font-body); /* Ensure buttons are readable */
}

/* --- AVATAR CREATOR STYLES --- */
.avatar-page {
    display: flex;
    justify-content: center;
    align-items: center;
}

.avatar-layer {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
}
/* --- AVATAR PREVIEW FIX --- */
/* Add this new rule to your style.css file */

.avatar-layer > svg {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Ensures the SVG scales correctly within the container */
}
.avatar-options .option-group {
    margin-bottom: 20px;
}
.avatar-options img {
    width: 70px;
    height: 70px;
    border: 3px solid #ccc;
    border-radius: 10px;
    cursor: pointer;
    margin: 5px;
    transition: transform 0.2s;
}
.avatar-options img:hover {
    transform: scale(1.1);
    border-color: var(--primary-green);
}

.cta-button {
    background-color: var(--secondary-green);
    color: white;
    font-size: 1.2rem;
    padding: 15px 30px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: background-color 0.3s;
}
.cta-button:hover {
    background-color: var(--primary-green);
}

/* --- ACTIVITY 1 PAGE STYLES --- */
.activity-page main {
    width: 100%;
    max-width: 900px;
    margin: auto; /* Center the main content */
}

.activity-page header {
    background-color: var(--primary-green);
    color: white;
    padding: 1rem;
    text-align: center;
    width: 100%;
    max-width: 900px;
    border-radius: 8px;
    margin: 0 auto 20px auto; /* Center the header */
}
/* Titles inside the green header should be white */
.activity-page header h1, .activity-page header h2 {
    color: white;
}

.activity-page section {
    background: white;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

#panel-de-control {
    border-left: 5px solid var(--primary-green);
}

#info-jugador {
    display: flex;
    align-items: center;
    gap: 20px;
}
#avatar-display {
    width: 80px;
    height: 80px;
    position: relative;
    border-radius: 50%;
    background-color: #e0e0e0;
}

.barra-progreso-contenedor {
    width: 100%;
    background-color: #e0e0e0;
    border-radius: 10px;
    margin: 15px 0;
}

.barra-progreso-relleno {
    width: 0%; /* Se actualizar√° con JS */
    height: 20px;
    background-color: var(--primary-green);
    border-radius: 10px;
    text-align: center;
    color: white;
    line-height: 20px;
}

#contenedor-insignias {
    display: flex;
    gap: 10px;
    margin-top: 10px;
}

.insignia {
    width: 60px;
    height: 60px;
    filter: grayscale(100%); /* Start as gray */
    opacity: 0.5;
    transition: all 0.3s;
}

.insignia.obtenida {
    filter: none; /* Remove gray when obtained */
    opacity: 1;
    transform: scale(1.1);
}

.bioma {
    border: 1px solid #ddd;
    padding: 15px;
    border-radius: 5px;
    margin-top: 15px;
}

.bioma.bloqueado {
    background-color: #f2f2f2;
    color: #999;
}

.bioma.bloqueado h4 {
    color: #999;
}

.cuestionario button {
    background-color: var(--secondary-green);
    color: white;
    border: none;
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
    margin: 5px;
}

.cuestionario button:hover {
    background-color: var(--primary-green);
}

.feedback {
    margin-top: 10px;
    font-weight: bold;
}

/* --- BACK BUTTON STYLES --- */
.back-button {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1000;
    background-color: var(--primary-green);
    color: white;
    font-family: var(--font-body); /* Use readable font */
    font-size: 16px;
    font-weight: 700;
    border: 2px solid white;
    border-radius: 50px;
    padding: 10px 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: transform 0.2s ease-out, background-color 0.2s;
}

.back-button:hover {
    background-color: var(--secondary-green);
    transform: scale(1.05);
}

/* Add this to style.css */
.color-picker {
    margin-top: 15px;
}
.color-swatch {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: inline-block;
    cursor: pointer;
    border: 2px solid white;
    box-shadow: 0 0 5px rgba(0,0,0,0.2);
    margin: 0 5px;
}

/* --- AVATAR LAYER STACKING ORDER (UPDATED FOR BACKPACKS) --- */
#accessory-preview {
    z-index: 5; /* <<<< KEY CHANGE: The very back layer */
}
#base-preview {
    z-index: 10;
}
#headwear-preview {
    z-index: 20;
}
#clothing-preview {
    z-index: 30;
}
#eyewear-preview {
    z-index: 40; /* The very front layer */
}

/* --- NEW TAB LAYOUT STYLES --- */
/* Add this to the end of your style.css */

.avatar-customization {
    display: flex;
    flex-grow: 1; /* Allows it to take up available space */
    background-color: white;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    height: 400px; /* Give it a fixed height */
    overflow: hidden;
}

.tab-buttons {
    display: flex;
    flex-direction: column;
    background-color: #f0f0f0;
    border-right: 1px solid #ddd;
}

.tab-button {
    background-color: transparent;
    border: none;
    padding: 15px;
    cursor: pointer;
    transition: background-color 0.2s;
    border-left: 4px solid transparent; /* For active indicator */
}

.tab-button img {
    width: 40px;
    height: 40px;
}

.tab-button:hover {
    background-color: #e9e9e9;
}

/* This is the style for the SELECTED tab button */
.tab-button.active {
    background-color: white;
    border-left: 4px solid var(--primary-green);
}

.tab-content-container {
    padding: 20px;
    flex-grow: 1;
    overflow-y: auto; /* Makes options scrollable if they get too long */
}

/* By default, all content panels are hidden */
.tab-content {
    display: none;
}

/* This class will be added by JavaScript to show the correct panel */
.tab-content.active {
    display: block; /* Or 'flex' if you need flexbox inside */
}

/* Let's remove the wrapper from the old layout */
.avatar-options {
    display: contents; /* This effectively removes the old wrapper's layout effect */
}

/* --- NEW GRID LAYOUT & PREVIEW SHAPE STYLES --- */
/* Add this to the end of style.css */

/* Task 2: Create the Grid Container for the Options */
.option-grid {
    display: flex;
    flex-wrap: wrap; /* Allows items to wrap to the next line */
    gap: 15px; /* Adds space between all grid items */
    margin-bottom: 20px; /* Adds space between the grid and the color pickers below */
}

/* Style the images inside the grid */
.option-grid img {
    width: 80px;  /* Give them a fixed size */
    height: 80px;
    border: 3px solid #ddd;
    background-color: #f9f9f9;
    transition: border-color 0.2s; /* Keep the nice hover effect */
}

/* Make the hover effect more prominent */
.option-grid img:hover {
    border-color: var(--primary-green);
    transform: scale(1.05);
}

/* We have to override the old, generic img rule */
.avatar-options img {
    width: auto; /* Reset the old rule */
    height: auto;
}

.final-action {
    text-align: center;
    margin-top: 20px;
}

/* --- WELCOME PAGE BANNER STYLES --- */

.welcome-page {
    /* We use block display to hang the banner from the top, not center it vertically */
    display: block;
    padding-top: 1px; /* Adjust this value to move the banner up or down */
    background-image: url('assets/background.png'); /* Keep your background */
    background-size: cover;
    background-position: center;
    height: 100vh;
}

.banner-container {
    position: relative; /* Crucial for positioning the buttons inside */
    width: 90%; /* Adjust width as needed */
    max-width: 800px;
    margin: 0 auto; /* This is the key fix: Horizontally centers the banner */

    /* Initial state for the animation */
    opacity: 0;
    transform: translateY(-100vh);
    transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.25, 1, 0.5, 1);
}

.banner-container.loaded {
    opacity: 1;
    transform: translateY(0);
}

.banner-svg {
    width: 100%;
    height: auto;
    display: block;
}

.activity-selection {
    position: absolute;
    top: 80%; /* Position from the top of the banner */
    left: 50%; /* Center horizontally */
    transform: translate(-50%, -50%); /* Fine-tune the centering */
    
    display: flex;
    gap: 20px; /* Space between the buttons */
    width: 70%;
    justify-content: center;
}

.activity-card {
    background: white;
    border: 3px solid var(--primary-green);
    border-radius: 15px;
    padding: 5px;
    width: 150px; /* The size of the card */
    text-decoration: none;
    color: var(--dark-text);
    text-align: center; /* Center the text inside the card */
    transition: transform 0.3s, box-shadow 0.3s;
}

.activity-card:hover {
    transform: translateY(-5px) scale(1.03); /* A slightly nicer hover effect */
    box-shadow: 0 8px 15px rgba(0,0,0,0.15);
}

.activity-card.disabled {
    filter: grayscale(1);
    background-color: #eee;
    border-color: #ccc;
    cursor: not-allowed;
}

.activity-card img {
    max-width: 90%;
    border-radius: 10px;
}

.activity-card h3 {
    font-size: 0.9rem;
    margin-top: 5px;
    margin-bottom: 5px;
    color: #333;
}

.activity-card p {
    font-size: 0.8rem;
    font-family: var(--font-body);
    color: #555;
    margin: 0;
    line-height: 1.2;
}

/* --- NEW MULTI-LAYER BACKGROUND STYLES --- */
/* Add this to the end of style.css */

.background-layers {
    position: fixed; /* Stays in place when scrolling */
    top: 0;
    left: 0;
    width: 100vw; /* Full viewport width */
    height: 100vh; /* Full viewport height */
    z-index: -10; /* Crucial: Puts it behind all other content */
    overflow: hidden; /* Prevents scrollbars if images are slightly too big */
}

/* Style for both background layer images */
#back-layer,
#front-layer {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: auto;
    
    /* Initial state for the animation: invisible and off-screen */
    opacity: 0;
    transform: translateY(100%);
    
    /* Animation settings */
    transition: transform 1s cubic-bezier(0.25, 1, 0.5, 1), opacity 1s ease-out;
}

/* Staggering the animation: the front layer starts 0.3s later */
#front-layer {
    z-index: 2; /* Ensure front is on top of back */
    transition-delay: 0.3s;
}

#back-layer {
    z-index: 1;
}

/* The final, visible state for the animation */
#back-layer.visible,
#front-layer.visible {
    opacity: 1;
    transform: translateY(0);
}

/* --- STATIC BACKGROUND FIX FOR OTHER PAGES --- */
/* This forces the background to be visible immediately on the avatar and activity pages */
.avatar-page .background-layers img,
.activity-page .background-layers img {
    opacity: 1;
    transform: translateY(0);
}

/* --- NEW SINGLE CARD AVATAR CREATOR STYLES --- */
/* Add this to the end of your CSS file */

/* Center the card on the page */
.avatar-page {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.avatar-preview {
    width: 300px;         /* The width of the preview column */
    height: 350px;        /* <<<< KEY CHANGE: Increased height for a portrait shape */
    flex-shrink: 0;       /* Prevents the column from shrinking */
    position: relative;     /* Crucial for layering the SVGs inside */
    
    background-color: #e8f5e9;
    border: 4px dashed var(--secondary-green);
    border-radius: 25px;
}

/* The main card container */
.creator-card {
    width: 90vw; /* 90% of the viewport width */
    max-width: 900px; /* But no wider than 900px */
    min-height: 550px; /* A minimum height to prevent resizing */
    
    background-color: white;
    border-radius: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    
    display: flex;
    flex-direction: column; /* Stacks the main content and the save button vertically */
    padding: 30px;
    box-sizing: border-box; /* Ensures padding is included in the size */
}

/* The container for the preview and customization columns */
.creator-main-content {
    display: flex;
    gap: 30px;
    flex-grow: 1; /* Allows this area to fill the available space */
    width: 100%;
}

/* Ensure the customization column fills the rest of the space */
.avatar-customization {
    width: 100%;
    height: 100%; /* Make it fill the vertical space of its parent */
}

/* The final save button container */
.final-action {
    text-align: center;
    padding-top: 20px; /* Space above the button */
    border-top: 1px solid #eee; /* A subtle separator line */
    margin-top: 20px;
}

/* --- FINAL AVATAR CREATOR FIXES (SCROLLING & BACKGROUND) --- */
/* Add this to the end of style.css */

/* 1. Force the customization area to have a fixed height */
.avatar-customization {
    height: 450px; /* Give the entire right-side column a fixed height */
    display: flex; /* Ensure flexbox is active */
}

/* 2. Make the content area scrollable */
.tab-content-container {
    flex-grow: 1; /* Allows it to fill the available space */
    height: 100%; /* Makes it respect the parent's new fixed height */
    overflow-y: auto; /* The magic! Adds a scrollbar ONLY when needed */
    padding-right: 15px; /* Adds some space for the scrollbar */
}

/* 3. Force the background to be visible on the avatar page */
/* This is a more specific rule to override the animation */
.avatar-page #back-layer,
.avatar-page #front-layer {
    opacity: 1;
    transform: translateY(0);
    transition: none; /* Disables the slide-in animation */
    transition-delay: 0s !important; /* Removes any lingering animation delay */
}

/* --- FINAL AVATAR CREATOR FIXES (SCROLLING & BACKGROUND) --- */
/* Add this to the end of style.css */

/* 1. Force the customization area to have a fixed height */
.avatar-customization {
    height: 450px; /* Give the entire right-side column a fixed height */
    display: flex; /* Ensure flexbox is active */
}

/* 2. Make the content area scrollable */
.tab-content-container {
    flex-grow: 1; /* Allows it to fill the available space */
    height: 100%; /* Makes it respect the parent's new fixed height */
    overflow-y: auto; /* The magic! Adds a scrollbar ONLY when needed */
    padding-right: 15px; /* Adds some space for the scrollbar */
}

/* 3. Force the background to be visible on the avatar page */
/* This is a more specific rule to override the animation */
.avatar-page #back-layer,
.avatar-page #front-layer {
    opacity: 1;
    transform: translateY(0);
    transition: none; /* Disables the slide-in animation */
    transition-delay: 0s !important; /* Removes any lingering animation delay */
}

.modal-overlay {
    position: fixed; top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.6);
    display: none; /* Hidden by default */
    justify-content: center; align-items: center;
    z-index: 2000;
}
.modal-content {
    background: white; padding: 30px; border-radius: 15px;
    text-align: center;
}
.name-display {
    font-family: var(--font-title);
    font-size: 2.5rem; color: var(--secondary-green);
    margin: 20px 0; padding: 10px;
    border: 3px dashed var(--primary-green);
}

/* --- NEW FLOATING AVATAR HUD STYLES --- */
/* Add this to the end of style.css */

#avatar-hud {
    position: fixed; /* Floats on top of the page content */
    bottom: 20px;
    left: 20px;
    z-index: 100; /* Ensures it's above the background but below any modals */
    
    background-color: rgba(255, 255, 255, 0.9); /* Semi-transparent white */
    border: 3px solid var(--primary-green);
    border-radius: 20px;
    padding: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    
    width: 180px;
    text-align: center;
}

#hud-player-name {
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 1rem;
    color: var(--dark-text);
    margin: 0 0 10px 0;
}

#hud-avatar-display {
    width: 150px;
    height: 150px;
    margin: 0 auto; /* Center the avatar inside the HUD */
    position: relative;
    border-radius: 15px;
    background-color: #e8f5e9;
    overflow: hidden; /* Hides any parts of the SVG that might stick out */
}

/* --- BACKGROUND FIX FOR ACTIVITY PAGE --- */
/* This more specific rule will force the background to show correctly */
.activity-page #back-layer,
.activity-page #front-layer {
    opacity: 1;
    transform: translateY(0);
    transition: none;
}

/* --- NEW BIOMA CARD STYLES --- */
.bioma-card {
    background: #fff;
    border: 1px solid #ddd;
    border-left: 5px solid var(--secondary-green);
    border-radius: 8px;
    padding: 20px;
    margin-top: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.bioma-card.bloqueado {
    background-color: #f2f2f2;
    color: #999;
    border-left-color: #ccc;
}

.bioma-card.bloqueado h4 {
    color: #999;
}

/* --- NEW FLOATING PLAYER HUD & VERTICAL PROGRESS --- */
/* Add this to the end of your style.css */

#player-hud {
    position: fixed;
    right: 20px;
    top: 50%;
    transform: translateY(-50%); /* This perfectly centers it vertically */
    z-index: 100;
    
    width: 120px; /* A slim vertical HUD */
    background-color: rgba(255, 255, 255, 0.95);
    border: 3px solid var(--primary-green);
    border-radius: 20px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    padding: 15px;
    
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

#hud-info {
    text-align: center;
}

#hud-player-name {
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 1.1rem;
    margin: 0;
}

#hud-pe-points {
    font-size: 1rem;
}

#hud-progress-and-insignias {
    display: flex;
    gap: 15px;
    width: 100%;
    justify-content: center;
}

#vertical-progress-container {
    width: 30px;
    height: 300px; /* The height of the progress bar */
    background-color: #e0e0e0;
    border-radius: 15px;
    position: relative;
    overflow: hidden; /* This is key */
}

#vertical-progress-fill {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 0%; /* Starts at 0, controlled by JS */
    background-color: var(--primary-green);
    border-radius: 15px;
    transition: height 0.5s ease-out;
}

#hud-insignias-container {
    display: flex;
    flex-direction: column; /* Stack insignias vertically */
    gap: 10px;
    align-items: center;
}

/* The individual insignias in the HUD */
#hud-insignias-container .insignia {
    width: 50px; /* A good size for the HUD */
    height: 50px;
}

/* --- RESTORED FLOATING AVATAR HUD (LEFT SIDE) --- */
/* Add this to the end of style.css */

#avatar-display-hud {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 100;

    background-color: rgba(255, 255, 255, 0.9);
    border: 3px solid var(--primary-green);
    border-radius: 20px;
    padding: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
}

#hud-avatar-display-left {
    width: 180px; /* A good size for the avatar */
    height: 180px;
    position: relative;
    border-radius: 15px;
    background-color: #e8f5e9;
    overflow: hidden;
}

/* --- INSIGNIA MODAL STYLES --- */
.modal-overlay {
    display: none; /* Hidden by default */
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.7);
    justify-content: center;
    align-items: center;
    z-index: 2000;
}

.modal-overlay.visible {
    display: flex; /* Shown when the 'visible' class is added */
}

.modal-content {
    background: white;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    width: 90%;
    max-width: 400px;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.modal-close-button {
    position: absolute;
    top: 10px; right: 15px;
    background: none; border: none;
    font-size: 2rem; color: #aaa;
    cursor: pointer;
}

#modal-insignia-image {
    width: 150px;
    height: 150px;
    margin-bottom: 15px;
}

#modal-insignia-name {
    font-family: var(--font-title);
    color: var(--primary-green);
    margin: 0 0 10px 0;
}

#modal-insignia-description {
    font-family: var(--font-body);
    font-size: 1rem;
    color: #555;
    margin: 0;
}

/* --- HUD REFINEMENT STYLES --- */
/* Add this to the end of your style.css */

/* 1. Style the new prompt text in the right HUD */
.hud-prompt {
    font-size: 0.8rem;
    font-style: italic;
    color: #555;
    text-align: center;
    margin: 0 0 10px 0;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
}

/* 2. Style the player name in the left HUD */
#hud-avatar-name {
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--dark-text);
    margin: 0 0 10px 0;
    text-align: center;
}

/* 3. Update the left HUD to stack the name and avatar vertically */
#avatar-display-hud {
    display: flex;
    flex-direction: column;
}

/* 4. Add a pointer cursor to earned insignias for better UX */
.insignia.obtenida {
    cursor: pointer;
}

/* --- MODAL & HUD REFINEMENT STYLES --- */
/* Add this to the end of your style.css */

/* 1. Fix the Name Generator Modal Spacing */
#name-generator-modal .modal-content {
    max-width: 500px; /* Give it a wider max-width */
}

/* Stack the buttons in the name generator vertically */
#name-generator-modal .cta-button {
    display: block;
    margin: 10px auto; /* Adds vertical space and centers them */
    width: 80%;
}

/* 2. Add a Hover Animation to EARNED Insignias */
/* First, add a smooth transition to the base insignia class */
.insignia {
    transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
}

/* Then, define the hover effect for ONLY the earned ones */
.insignia.obtenida:hover {
    transform: scale(1.15) rotate(5deg); /* Makes it pop and tilt playfully */
    cursor: pointer; /* This was in a previous fix, but let's ensure it's here */
}

/* --- NAME GENERATOR MODAL WIDENING FIX --- */
/* Add this to the end of your style.css file */

/* Target the name generator's content box specifically */
#name-generator-modal .modal-content {
    width: 100%; /* Use a percentage for responsiveness */
    max-width: 640px; /* Set a larger max-width for a wider look */
    padding: 40px; /* Increase padding for more internal space */
}

/* Adjust the text display box inside for better balance */
#name-generator-modal .name-display {
    padding: 15px; /* Add more padding inside the dashed box */
    font-size: 2.8rem; /* Slightly increase font size to fill the space */
}

/* Adjust the buttons for the new wider layout */
#name-generator-modal .cta-button {
    width: 60%; /* Adjust button width if needed */
    margin: 15px auto; /* Ensure good vertical spacing between buttons */
}

/* --- WORDWALL ACTIVITY CENTERING & SIZING FIX --- */
/* Add this to the end of your style.css */

/* 1. Center the container's content */
.wordwall-container {
    text-align: center; /* This centers the iframe and the button below it */
}

/* 2. Make the iframe responsive and wider */
.wordwall-container iframe {
    width: 100%;      /* <<<< This is the key fix for width */
    max-width: 700px; /* Optional: sets a max width on very large screens */
    height: 450px;    /* We can increase the height for a better aspect ratio */
    border: none;     /* Removes any default borders */
    border-radius: 5px; /* A subtle rounded corner to match the card */
}

/* 3. Add some space above the button */
.wordwall-container .cta-button {
    margin-top: 20px;
}

/* --- ESTILOS PARA ACTIVIDAD 2: EL GRAN JUEGO DEL BOSQUE --- */
#panel-estado-juego {
    display: flex;
    justify-content: space-around;
    background-color: white;
    padding: 15px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    margin-bottom: 20px;
}
.estado-item {
    text-align: center;
}
.estado-item h4 {
    margin: 0 0 10px 0;
}
.estado-item p {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--secondary-green);
    margin: 0;
}

#mapa-bosque {
    width: 100%;
    height: 400px; /* Altura del mapa */
    background-image: url('assets/mapa_bosque.png'); /* <<< DEBES CREAR ESTA IMAGEN */
    background-size: cover;
    background-position: center;
    border-radius: 10px;
}

#evento-opciones {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 20px;
}

/* --- NEW INTERACTIVE MAP & HUD STYLES FOR ACTIVITY 2 --- */
/* Add this to the end of your style.css */

.game-page main {
    display: none; /* We hide the old main container */
}

.game-board-container {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 20px;
    padding: 20px;
    height: calc(100vh - 40px); /* Full screen height minus padding */
    box-sizing: border-box;
}

.game-center-column {
    flex-grow: 1; /* Allows the center column to take up most of the space */
    height: 100%;
    display: flex;
    flex-direction: column;
}

header.game-header {
    background-color: var(--primary-green);
    color: white;
    padding: 10px;
    border-radius: 15px;
    text-align: center;
    margin-bottom: 15px;
    flex-shrink: 0; /* Prevents header from shrinking */
}
header.game-header h1 {
    color: white;
    font-size: 1.8rem;
    margin: 0;
}

#interactive-map-container {
    width: 100%;
    flex-grow: 1; /* The map fills the rest of the vertical space */
    position: relative; /* For hotspot animations */
}

#interactive-map-container svg {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

/* --- Hotspot Styling --- */
.hotspot {
    transition: all 0.3s ease;
    cursor: pointer;
    fill-opacity: 0.1; /* Make the zone slightly visible */
    stroke: yellow;
    stroke-width: 0; /* Hidden by default */
}

.hotspot:hover {
    stroke-width: 5px; /* Show a yellow border on hover */
    fill-opacity: 0.2;
}

/* --- Sidebar HUD Styling --- */
.game-hud {
    background-color: rgba(255, 255, 255, 0.9);
    border: 3px solid var(--primary-green);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    flex-shrink: 0;
    width: 200px;
    height: 100%;
    box-sizing: border-box;
}

#vertical-progress-container-game {
    width: 50px;
    height: 80%; /* Take up most of the sidebar height */
    margin: 20px auto;
    background-color: #e0e0e0;
    border-radius: 25px;
    position: relative;
    overflow: hidden;
}

#vertical-progress-fill-game {
    position: absolute;
    bottom: 0; left: 0;
    width: 100%;
    height: 100%; /* Starts full */
    background-color: var(--secondary-green);
    border-radius: 25px;
    transition: height 0.5s ease-out;
}

#health-percentage {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    color: white;
    font-weight: bold;
    font-size: 1.2rem;
}

.sidebar-right {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 40px;
}

/* --- ACTIVITY 2 LAYOUT REFINEMENTS (CONSOLIDATED) --- */
/* Replace the old block with this one */

/* 1. Make the sidebars thinner */
.game-hud {
    width: 180px; /* Reduced from 200px */
}

/* 2. Add a corner radius to the map and the SVG inside it */
#interactive-map-container {
    border-radius: 15px; /* Adds rounded corners to the container */
    overflow: hidden;    /* Hides the sharp corners of the SVG */
}
#interactive-map-container svg {
    display: block; /* Prevents extra space below the SVG */
    border-radius: 15px; /* <<<< KEY FIX: Rounds the SVG corners too */
}

/* 3. Remove the background layers ONLY on this page */
.game-page .background-layers {
    display: none; /* Hides the jungle background */
}

/* 4. Change the game page background to a solid color */
.game-page {
    background-image: none; /* Removes the old background image if any */
    background-color: var(--light-bg); /* Sets a clean, solid background color */
}

/* --- ACTIVITY 2 ANIMATIONS & INSTRUCTIONS REFINEMENTS --- */
/* Add this to the end of your style.css */

/* 1. Initial Animation States */
/* We'll add a class 'hidden-for-anim' to hide elements before they animate in */

/* Header starts above the screen */
header.game-header.hidden-for-anim {
    transform: translateY(-200%);
    opacity: 0;
}

/* Left sidebar starts to the left */
.game-hud.sidebar-left.hidden-for-anim {
    transform: translateX(-200%);
    opacity: 0;
}

/* Right sidebar starts to the right */
.game-hud.sidebar-right.hidden-for-anim {
    transform: translateX(200%);
    opacity: 0;
}

/* Map starts below the screen */
#interactive-map-container.hidden-for-anim {
    transform: translateY(100vh);
    opacity: 0;
}

/* 2. Transition Styles for all animated elements */
header.game-header,
.game-hud,
#interactive-map-container {
    transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.8s ease-out;
}

/* 3. Make the instructions modal visible by default */
#instructions-modal {
    display: flex; /* Show the instructions by default */
}

/* --- MAP PERFORMANCE OPTIMIZATION STYLES --- */
/* Add this to the end of your style.css */

/* The container needs to be a positioning context */
#interactive-map-container {
    position: relative;
}

/* Style both the visual layer and the hotspot layer */
.map-visual, .map-hotspots {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

/* Ensure the hotspot SVG is on top */
.map-hotspots {
    z-index: 10;
}

/* --- ACTIVITY 2 FINAL POLISH & REFINEMENTS --- */
/* Add this to the end of your style.css */

/* 1. Reduce the height of the sidebars */
.game-hud {
    height: 85vh; /* Set height to 85% of the viewport height */
    max-height: 700px; /* Optional: a max height for very tall screens */
}

/* 2. Style the new Map Tooltip */
#map-tooltip {
    position: fixed; /* Floats on top of everything */
    z-index: 9999;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    padding: 8px 15px;
    border-radius: 8px;
    font-family: var(--font-body);
    font-weight: 700;
    font-size: 1rem;
    
    /* Hide it by default and prepare for a fade animation */
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.2s ease-out, transform 0.2s ease-out;
    
    /* CRUCIAL: This makes the mouse ignore the tooltip itself */
    pointer-events: none; 
}

/* 3. The "Glow" Hover Effect for Hotspots */
.hotspot {
    /* Set a base fill color for a subtle highlight */
    fill: rgba(255, 255, 0, 0.1);
    stroke: rgba(255, 255, 0, 0.8);
    stroke-width: 0; /* No stroke by default */
    transition: all 0.2s ease-in-out;
    cursor: pointer;
}

.hotspot:hover {
    fill: rgba(255, 255, 0, 0.3); /* Increase the fill opacity on hover */
    stroke-width: 4px; /* Add a bright yellow stroke on hover */
}

/* --- ACTIVITY 2 FINAL POLISH (HUD, HEALTH BAR, MODALS) --- */
/* Add this to the end of your style.css */

/* 1. Reduce Sidebar Height */
.game-hud {
    height: 75vh; /* Reduced to 75% of viewport height */
    max-height: 650px;
}

/* 2. Color-Changing Health Bar */
#vertical-progress-fill-game {
    /* The default green is already set, we just add new states */
    background-color: var(--secondary-green); 
}
#vertical-progress-fill-game.warning {
    background-color: #fbc02d; /* A nice warning yellow */
}
#vertical-progress-fill-game.critical {
    background-color: #d32f2f; /* A critical danger red */
}

/* 3. Add a space for the icon in the event modal */
#evento-titulo {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
}

/* 4. Style the new End Game Modal */
#end-game-image {
    width: 120px;
    height: 120px;
    margin-bottom: 15px;
}
#end-game-modal .modal-content {
    border: 5px solid var(--primary-green);
}
#end-game-modal.success .modal-content {
    border-color: #FFD700; /* A golden border for success */
}

/* --- UI POLISH FOR AVATAR CREATOR --- */
/* Add this to the end of your style.css */

/* 1. Style the "Quitar" (Remove) Button */
.remove-btn {
    background-color: #f44336; /* A clear "danger" or "remove" red */
    color: white;
    font-family: var(--font-body);
    font-weight: 700;
    border: none;
    border-radius: 8px;
    padding: 8px 15px;
    cursor: pointer;
    margin-top: 15px; /* Add some space above it */
    transition: background-color 0.2s;
}

.remove-btn:hover {
    background-color: #d32f2f; /* A darker red on hover */
}

/* 2. Add a class to hide the color pickers */
.color-picker-group.hidden {
    display: none;
}
